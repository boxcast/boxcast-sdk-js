/*! For license information please see browser.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("BoxCastSDK",[],t):"object"==typeof exports?exports.BoxCastSDK=t():e.BoxCastSDK=t()}(this,(function(){return(()=>{var e={501:function(e,t,r){var n;e=r.nmd(e),function(o){var i=(e&&e.exports,"object"==typeof r.g&&r.g);i.global!==i&&i.window;var a=function(e){this.message=e};(a.prototype=new Error).name="InvalidCharacterError";var s=function(e){throw new a(e)},l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=/[\t\n\f\r ]/g,u={encode:function(e){e=String(e),/[^\0-\xFF]/.test(e)&&s("The string to be encoded contains characters outside of the Latin1 range.");for(var t,r,n,o,i=e.length%3,a="",c=-1,u=e.length-i;++c<u;)t=e.charCodeAt(c)<<16,r=e.charCodeAt(++c)<<8,n=e.charCodeAt(++c),a+=l.charAt((o=t+r+n)>>18&63)+l.charAt(o>>12&63)+l.charAt(o>>6&63)+l.charAt(63&o);return 2==i?(t=e.charCodeAt(c)<<8,r=e.charCodeAt(++c),a+=l.charAt((o=t+r)>>10)+l.charAt(o>>4&63)+l.charAt(o<<2&63)+"="):1==i&&(o=e.charCodeAt(c),a+=l.charAt(o>>2)+l.charAt(o<<4&63)+"=="),a},decode:function(e){var t=(e=String(e).replace(c,"")).length;t%4==0&&(t=(e=e.replace(/==?$/,"")).length),(t%4==1||/[^+a-zA-Z0-9/]/.test(e))&&s("Invalid character: the string to be decoded is not correctly encoded.");for(var r,n,o=0,i="",a=-1;++a<t;)n=l.indexOf(e.charAt(a)),r=o%4?64*r+n:n,o++%4&&(i+=String.fromCharCode(255&r>>(-2*o&6)));return i},version:"1.0.0"};void 0===(n=function(){return u}.call(t,r,t,e))||(e.exports=n)}()},924:(e,t,r)=>{"use strict";var n=r(210),o=r(559),i=o(n("String.prototype.indexOf"));e.exports=function(e,t){var r=n(e,!!t);return"function"==typeof r&&i(e,".prototype.")>-1?o(r):r}},559:(e,t,r)=>{"use strict";var n=r(612),o=r(210),i=o("%Function.prototype.apply%"),a=o("%Function.prototype.call%"),s=o("%Reflect.apply%",!0)||n.call(a,i),l=o("%Object.getOwnPropertyDescriptor%",!0),c=o("%Object.defineProperty%",!0),u=o("%Math.max%");if(c)try{c({},"a",{value:1})}catch(e){c=null}e.exports=function(e){var t=s(n,a,arguments);if(l&&c){var r=l(t,"length");r.configurable&&c(t,"length",{value:1+u(0,e.length-(arguments.length-1))})}return t};var p=function(){return s(n,i,arguments)};c?c(e.exports,"apply",{value:p}):e.exports.apply=p},648:e=>{"use strict";var t="Function.prototype.bind called on incompatible ",r=Array.prototype.slice,n=Object.prototype.toString,o="[object Function]";e.exports=function(e){var i=this;if("function"!=typeof i||n.call(i)!==o)throw new TypeError(t+i);for(var a,s=r.call(arguments,1),l=function(){if(this instanceof a){var t=i.apply(this,s.concat(r.call(arguments)));return Object(t)===t?t:this}return i.apply(e,s.concat(r.call(arguments)))},c=Math.max(0,i.length-s.length),u=[],p=0;p<c;p++)u.push("$"+p);if(a=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(l),i.prototype){var f=function(){};f.prototype=i.prototype,a.prototype=new f,f.prototype=null}return a}},612:(e,t,r)=>{"use strict";var n=r(648);e.exports=Function.prototype.bind||n},210:(e,t,r)=>{"use strict";var n,o=SyntaxError,i=Function,a=TypeError,s=function(e){try{return i('"use strict"; return ('+e+").constructor;")()}catch(e){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(e){l=null}var c=function(){throw new a},u=l?function(){try{return c}catch(e){try{return l(arguments,"callee").get}catch(e){return c}}}():c,p=r(405)(),f=Object.getPrototypeOf||function(e){return e.__proto__},h={},d="undefined"==typeof Uint8Array?n:f(Uint8Array),y={"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":p?f([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":h,"%AsyncGenerator%":h,"%AsyncGeneratorFunction%":h,"%AsyncIteratorPrototype%":h,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?n:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":h,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":p?f(f([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&p?f((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&p?f((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":p?f(""[Symbol.iterator]()):n,"%Symbol%":p?Symbol:n,"%SyntaxError%":o,"%ThrowTypeError%":u,"%TypedArray%":d,"%TypeError%":a,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet};try{null.error}catch(e){var g=f(f(e));y["%Error.prototype%"]=g}var b=function e(t){var r;if("%AsyncFunction%"===t)r=s("async function () {}");else if("%GeneratorFunction%"===t)r=s("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=s("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&(r=f(o.prototype))}return y[t]=r,r},m={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},v=r(612),E=r(642),S=v.call(Function.call,Array.prototype.concat),w=v.call(Function.apply,Array.prototype.splice),_=v.call(Function.call,String.prototype.replace),O=v.call(Function.call,String.prototype.slice),A=v.call(Function.call,RegExp.prototype.exec),P=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,x=/\\(\\)?/g,T=function(e){var t=O(e,0,1),r=O(e,-1);if("%"===t&&"%"!==r)throw new o("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new o("invalid intrinsic syntax, expected opening `%`");var n=[];return _(e,P,(function(e,t,r,o){n[n.length]=r?_(o,x,"$1"):t||e})),n},k=function(e,t){var r,n=e;if(E(m,n)&&(n="%"+(r=m[n])[0]+"%"),E(y,n)){var i=y[n];if(i===h&&(i=b(n)),void 0===i&&!t)throw new a("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:i}}throw new o("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new a('"allowMissing" argument must be a boolean');if(null===A(/^%?[^%]*%?$/,e))throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=T(e),n=r.length>0?r[0]:"",i=k("%"+n+"%",t),s=i.name,c=i.value,u=!1,p=i.alias;p&&(n=p[0],w(r,S([0,1],p)));for(var f=1,h=!0;f<r.length;f+=1){var d=r[f],g=O(d,0,1),b=O(d,-1);if(('"'===g||"'"===g||"`"===g||'"'===b||"'"===b||"`"===b)&&g!==b)throw new o("property names with quotes must have matching quotes");if("constructor"!==d&&h||(u=!0),E(y,s="%"+(n+="."+d)+"%"))c=y[s];else if(null!=c){if(!(d in c)){if(!t)throw new a("base intrinsic for "+e+" exists, but the property is not available.");return}if(l&&f+1>=r.length){var m=l(c,d);c=(h=!!m)&&"get"in m&&!("originalValue"in m.get)?m.get:c[d]}else h=E(c,d),c=c[d];h&&!u&&(y[s]=c)}}return c}},405:(e,t,r)=>{"use strict";var n="undefined"!=typeof Symbol&&Symbol,o=r(419);e.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&o()}},419:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},642:(e,t,r)=>{"use strict";var n=r(612);e.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},631:(e,t,r)=>{var n="function"==typeof Map&&Map.prototype,o=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,i=n&&o&&"function"==typeof o.get?o.get:null,a=n&&Map.prototype.forEach,s="function"==typeof Set&&Set.prototype,l=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=s&&l&&"function"==typeof l.get?l.get:null,u=s&&Set.prototype.forEach,p="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,f="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,h="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,d=Boolean.prototype.valueOf,y=Object.prototype.toString,g=Function.prototype.toString,b=String.prototype.match,m=String.prototype.slice,v=String.prototype.replace,E=String.prototype.toUpperCase,S=String.prototype.toLowerCase,w=RegExp.prototype.test,_=Array.prototype.concat,O=Array.prototype.join,A=Array.prototype.slice,P=Math.floor,x="function"==typeof BigInt?BigInt.prototype.valueOf:null,T=Object.getOwnPropertySymbols,k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,N="function"==typeof Symbol&&"object"==typeof Symbol.iterator,M="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol.toStringTag,1)?Symbol.toStringTag:null,j=Object.prototype.propertyIsEnumerable,I=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function R(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||w.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var n=e<0?-P(-e):P(e);if(n!==e){var o=String(n),i=m.call(t,o.length+1);return v.call(o,r,"$&_")+"."+v.call(v.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return v.call(t,r,"$&_")}var B=r(550),D=B.custom,C=H(D)?D:null;function F(e,t,r){var n="double"===(r.quoteStyle||t)?'"':"'";return n+e+n}function W(e){return v.call(String(e),/"/g,"&quot;")}function L(e){return!("[object Array]"!==G(e)||M&&"object"==typeof e&&M in e)}function U(e){return!("[object RegExp]"!==G(e)||M&&"object"==typeof e&&M in e)}function H(e){if(N)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!k)return!1;try{return k.call(e),!0}catch(e){}return!1}e.exports=function e(t,r,n,o){var s=r||{};if($(s,"quoteStyle")&&"single"!==s.quoteStyle&&"double"!==s.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if($(s,"maxStringLength")&&("number"==typeof s.maxStringLength?s.maxStringLength<0&&s.maxStringLength!==1/0:null!==s.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var l=!$(s,"customInspect")||s.customInspect;if("boolean"!=typeof l&&"symbol"!==l)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if($(s,"indent")&&null!==s.indent&&"\t"!==s.indent&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if($(s,"numericSeparator")&&"boolean"!=typeof s.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var y=s.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return V(t,s);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var E=String(t);return y?R(t,E):E}if("bigint"==typeof t){var w=String(t)+"n";return y?R(t,w):w}var P=void 0===s.depth?5:s.depth;if(void 0===n&&(n=0),n>=P&&P>0&&"object"==typeof t)return L(t)?"[Array]":"[Object]";var T,D=function(e,t){var r;if("\t"===e.indent)r="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;r=O.call(Array(e.indent+1)," ")}return{base:r,prev:O.call(Array(t+1),r)}}(s,n);if(void 0===o)o=[];else if(q(o,t)>=0)return"[Circular]";function K(t,r,i){if(r&&(o=A.call(o)).push(r),i){var a={depth:s.depth};return $(s,"quoteStyle")&&(a.quoteStyle=s.quoteStyle),e(t,a,n+1,o)}return e(t,s,n+1,o)}if("function"==typeof t&&!U(t)){var z=function(e){if(e.name)return e.name;var t=b.call(g.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}(t),ee=Z(t,K);return"[Function"+(z?": "+z:" (anonymous)")+"]"+(ee.length>0?" { "+O.call(ee,", ")+" }":"")}if(H(t)){var te=N?v.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):k.call(t);return"object"!=typeof t||N?te:Y(te)}if((T=t)&&"object"==typeof T&&("undefined"!=typeof HTMLElement&&T instanceof HTMLElement||"string"==typeof T.nodeName&&"function"==typeof T.getAttribute)){for(var re="<"+S.call(String(t.nodeName)),ne=t.attributes||[],oe=0;oe<ne.length;oe++)re+=" "+ne[oe].name+"="+F(W(ne[oe].value),"double",s);return re+=">",t.childNodes&&t.childNodes.length&&(re+="..."),re+"</"+S.call(String(t.nodeName))+">"}if(L(t)){if(0===t.length)return"[]";var ie=Z(t,K);return D&&!function(e){for(var t=0;t<e.length;t++)if(q(e[t],"\n")>=0)return!1;return!0}(ie)?"["+Q(ie,D)+"]":"[ "+O.call(ie,", ")+" ]"}if(function(e){return!("[object Error]"!==G(e)||M&&"object"==typeof e&&M in e)}(t)){var ae=Z(t,K);return"cause"in Error.prototype||!("cause"in t)||j.call(t,"cause")?0===ae.length?"["+String(t)+"]":"{ ["+String(t)+"] "+O.call(ae,", ")+" }":"{ ["+String(t)+"] "+O.call(_.call("[cause]: "+K(t.cause),ae),", ")+" }"}if("object"==typeof t&&l){if(C&&"function"==typeof t[C]&&B)return B(t,{depth:P-n});if("symbol"!==l&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!i||!e||"object"!=typeof e)return!1;try{i.call(e);try{c.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var se=[];return a&&a.call(t,(function(e,r){se.push(K(r,t,!0)+" => "+K(e,t))})),J("Map",i.call(t),se,D)}if(function(e){if(!c||!e||"object"!=typeof e)return!1;try{c.call(e);try{i.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var le=[];return u&&u.call(t,(function(e){le.push(K(e,t))})),J("Set",c.call(t),le,D)}if(function(e){if(!p||!e||"object"!=typeof e)return!1;try{p.call(e,p);try{f.call(e,f)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return X("WeakMap");if(function(e){if(!f||!e||"object"!=typeof e)return!1;try{f.call(e,f);try{p.call(e,p)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return X("WeakSet");if(function(e){if(!h||!e||"object"!=typeof e)return!1;try{return h.call(e),!0}catch(e){}return!1}(t))return X("WeakRef");if(function(e){return!("[object Number]"!==G(e)||M&&"object"==typeof e&&M in e)}(t))return Y(K(Number(t)));if(function(e){if(!e||"object"!=typeof e||!x)return!1;try{return x.call(e),!0}catch(e){}return!1}(t))return Y(K(x.call(t)));if(function(e){return!("[object Boolean]"!==G(e)||M&&"object"==typeof e&&M in e)}(t))return Y(d.call(t));if(function(e){return!("[object String]"!==G(e)||M&&"object"==typeof e&&M in e)}(t))return Y(K(String(t)));if(!function(e){return!("[object Date]"!==G(e)||M&&"object"==typeof e&&M in e)}(t)&&!U(t)){var ce=Z(t,K),ue=I?I(t)===Object.prototype:t instanceof Object||t.constructor===Object,pe=t instanceof Object?"":"null prototype",fe=!ue&&M&&Object(t)===t&&M in t?m.call(G(t),8,-1):pe?"Object":"",he=(ue||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(fe||pe?"["+O.call(_.call([],fe||[],pe||[]),": ")+"] ":"");return 0===ce.length?he+"{}":D?he+"{"+Q(ce,D)+"}":he+"{ "+O.call(ce,", ")+" }"}return String(t)};var K=Object.prototype.hasOwnProperty||function(e){return e in this};function $(e,t){return K.call(e,t)}function G(e){return y.call(e)}function q(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function V(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return V(m.call(e,0,t.maxStringLength),t)+n}return F(v.call(v.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,z),"single",t)}function z(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+E.call(t.toString(16))}function Y(e){return"Object("+e+")"}function X(e){return e+" { ? }"}function J(e,t,r,n){return e+" ("+t+") {"+(n?Q(r,n):O.call(r,", "))+"}"}function Q(e,t){if(0===e.length)return"";var r="\n"+t.prev+t.base;return r+O.call(e,","+r)+"\n"+t.prev}function Z(e,t){var r=L(e),n=[];if(r){n.length=e.length;for(var o=0;o<e.length;o++)n[o]=$(e,o)?t(e[o],e):""}var i,a="function"==typeof T?T(e):[];if(N){i={};for(var s=0;s<a.length;s++)i["$"+a[s]]=a[s]}for(var l in e)$(e,l)&&(r&&String(Number(l))===l&&l<e.length||N&&i["$"+l]instanceof Symbol||(w.call(/[^\w$]/,l)?n.push(t(l,e)+": "+t(e[l],e)):n.push(l+": "+t(e[l],e))));if("function"==typeof T)for(var c=0;c<a.length;c++)j.call(e,a[c])&&n.push("["+t(a[c])+"]: "+t(e[a[c]],e));return n}},795:function(e,t,r){var n;e=r.nmd(e),function(){"use strict";var o={function:!0,object:!0},i=o[typeof window]&&window||this,a=o[typeof t]&&t,s=o.object&&e&&!e.nodeType&&e,l=a&&s&&"object"==typeof r.g&&r.g;!l||l.global!==l&&l.window!==l&&l.self!==l||(i=l);var c=Math.pow(2,53)-1,u=/\bOpera/,p=Object.prototype,f=p.hasOwnProperty,h=p.toString;function d(e){return(e=String(e)).charAt(0).toUpperCase()+e.slice(1)}function y(e){return e=E(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:d(e)}function g(e,t){for(var r in e)f.call(e,r)&&t(e[r],r,e)}function b(e){return null==e?d(e):h.call(e).slice(8,-1)}function m(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function v(e,t){var r=null;return function(e,t){var r=-1,n=e?e.length:0;if("number"==typeof n&&n>-1&&n<=c)for(;++r<n;)t(e[r],r);else g(e,t)}(e,(function(n,o){r=t(r,n,o,e)})),r}function E(e){return String(e).replace(/^ +| +$/g,"")}var S=function e(t){var r=i,n=t&&"object"==typeof t&&"String"!=b(t);n&&(r=t,t=null);var o=r.navigator||{},a=o.userAgent||"";t||(t=a);var s,l,c,p,f=n?!!o.likeChrome:/\bChrome\b/.test(t)&&!/internal|\n/i.test(h.toString()),d="Object",S=n?d:"ScriptBridgingProxyObject",w=n?d:"Environment",_=n&&r.java?"JavaPackage":b(r.java),O=n?d:"RuntimeObject",A=/\bJava/.test(_)&&r.java,P=A&&b(r.environment)==w,x=A?"a":"α",T=A?"b":"β",k=r.document||{},N=r.operamini||r.opera,M=u.test(M=n&&N?N["[[Class]]"]:b(N))?M:N=null,j=t,I=[],R=null,B=t==a,D=B&&N&&"function"==typeof N.version&&N.version(),C=v([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"],(function(e,r){return e||RegExp("\\b"+(r.pattern||m(r))+"\\b","i").exec(t)&&(r.label||r)})),F=v(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"(?:Edge|Edg|EdgA|EdgiOS)"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Vivaldi","Waterfox","WebPositive",{label:"Yandex Browser",pattern:"YaBrowser"},{label:"UC Browser",pattern:"UCBrowser"},"Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chromium","Chrome",{label:"Chrome",pattern:"(?:HeadlessChrome)"},{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"],(function(e,r){return e||RegExp("\\b"+(r.pattern||m(r))+"\\b","i").exec(t)&&(r.label||r)})),W=H([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),L=v({Apple:{iPad:1,iPhone:1,iPod:1},Alcatel:{},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},Huawei:{},Lenovo:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Oppo:{},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1},Xiaomi:{Mi:1,Redmi:1}},(function(e,r,n){return e||(r[W]||r[/^[a-z]+(?: +[a-z]+\b)*/i.exec(W)]||RegExp("\\b"+m(n)+"(?:\\b|\\w*\\d)","i").exec(t))&&n})),U=v(["Windows Phone","KaiOS","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian",{label:"DragonFly BSD",pattern:"DragonFly"},"Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "],(function(e,r){var n=r.pattern||m(r);return!e&&(e=RegExp("\\b"+n+"(?:/[\\d.]+|[ \\w.]*)","i").exec(t))&&(e=function(e,t,r){var n={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&r&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(n=n[/[\d.]+$/.exec(e)])&&(e="Windows "+n),e=String(e),t&&r&&(e=e.replace(RegExp(t,"i"),r)),y(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}(e,n,r.label||r)),e}));function H(e){return v(e,(function(e,r){var n=r.pattern||m(r);return!e&&(e=RegExp("\\b"+n+" *\\d+[.\\w_]*","i").exec(t)||RegExp("\\b"+n+" *\\w+-[\\w]*","i").exec(t)||RegExp("\\b"+n+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(t))&&((e=String(r.label&&!RegExp(n,"i").test(r.label)?r.label:e).split("/"))[1]&&!/[\d.]+/.test(e[0])&&(e[0]+=" "+e[1]),r=r.label||r,e=y(e[0].replace(RegExp(n,"i"),r).replace(RegExp("; *(?:"+r+"[_-])?","i")," ").replace(RegExp("("+r+")[-_.]?(\\w)","i"),"$1 $2"))),e}))}function K(e){return v(e,(function(e,r){return e||(RegExp(r+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(t)||0)[1]||null}))}if(C&&(C=[C]),/\bAndroid\b/.test(U)&&!W&&(s=/\bAndroid[^;]*;(.*?)(?:Build|\) AppleWebKit)\b/i.exec(t))&&(W=E(s[1]).replace(/^[a-z]{2}-[a-z]{2};\s*/i,"")||null),L&&!W?W=H([L]):L&&W&&(W=W.replace(RegExp("^("+m(L)+")[-_.\\s]","i"),L+" ").replace(RegExp("^("+m(L)+")[-_.]?(\\w)","i"),L+" $2")),(s=/\bGoogle TV\b/.exec(W))&&(W=s[0]),/\bSimulator\b/i.test(t)&&(W=(W?W+" ":"")+"Simulator"),"Opera Mini"==F&&/\bOPiOS\b/.test(t)&&I.push("running in Turbo/Uncompressed mode"),"IE"==F&&/\blike iPhone OS\b/.test(t)?(L=(s=e(t.replace(/like iPhone OS/,""))).manufacturer,W=s.product):/^iP/.test(W)?(F||(F="Safari"),U="iOS"+((s=/ OS ([\d_]+)/i.exec(t))?" "+s[1].replace(/_/g,"."):"")):"Konqueror"==F&&/^Linux\b/i.test(U)?U="Kubuntu":L&&"Google"!=L&&(/Chrome/.test(F)&&!/\bMobile Safari\b/i.test(t)||/\bVita\b/.test(W))||/\bAndroid\b/.test(U)&&/^Chrome/.test(F)&&/\bVersion\//i.test(t)?(F="Android Browser",U=/\bAndroid\b/.test(U)?U:"Android"):"Silk"==F?(/\bMobi/i.test(t)||(U="Android",I.unshift("desktop mode")),/Accelerated *= *true/i.test(t)&&I.unshift("accelerated")):"UC Browser"==F&&/\bUCWEB\b/.test(t)?I.push("speed mode"):"PaleMoon"==F&&(s=/\bFirefox\/([\d.]+)\b/.exec(t))?I.push("identifying as Firefox "+s[1]):"Firefox"==F&&(s=/\b(Mobile|Tablet|TV)\b/i.exec(t))?(U||(U="Firefox OS"),W||(W=s[1])):!F||(s=!/\bMinefield\b/i.test(t)&&/\b(?:Firefox|Safari)\b/.exec(F))?(F&&!W&&/[\/,]|^[^(]+?\)/.test(t.slice(t.indexOf(s+"/")+8))&&(F=null),(s=W||L||U)&&(W||L||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(U))&&(F=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(U)?U:s)+" Browser")):"Electron"==F&&(s=(/\bChrome\/([\d.]+)\b/.exec(t)||0)[1])&&I.push("Chromium "+s),D||(D=K(["(?:Cloud9|CriOS|CrMo|Edge|Edg|EdgA|EdgiOS|FxiOS|HeadlessChrome|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$)|UCBrowser|YaBrowser)","Version",m(F),"(?:Firefox|Minefield|NetFront)"])),(s=("iCab"==C&&parseFloat(D)>3?"WebKit":/\bOpera\b/.test(F)&&(/\bOPR\b/.test(t)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(t)&&!/^(?:Trident|EdgeHTML)$/.test(C)&&"WebKit"||!C&&/\bMSIE\b/i.test(t)&&("Mac OS"==U?"Tasman":"Trident")||"WebKit"==C&&/\bPlayStation\b(?! Vita\b)/i.test(F)&&"NetFront")&&(C=[s]),"IE"==F&&(s=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(t)||0)[1])?(F+=" Mobile",U="Windows Phone "+(/\+$/.test(s)?s:s+".x"),I.unshift("desktop mode")):/\bWPDesktop\b/i.test(t)?(F="IE Mobile",U="Windows Phone 8.x",I.unshift("desktop mode"),D||(D=(/\brv:([\d.]+)/.exec(t)||0)[1])):"IE"!=F&&"Trident"==C&&(s=/\brv:([\d.]+)/.exec(t))&&(F&&I.push("identifying as "+F+(D?" "+D:"")),F="IE",D=s[1]),B){if("global",p=null!=(c=r)?typeof c.global:"number",/^(?:boolean|number|string|undefined)$/.test(p)||"object"==p&&!c.global)b(s=r.runtime)==S?(F="Adobe AIR",U=s.flash.system.Capabilities.os):b(s=r.phantom)==O?(F="PhantomJS",D=(s=s.version||null)&&s.major+"."+s.minor+"."+s.patch):"number"==typeof k.documentMode&&(s=/\bTrident\/(\d+)/i.exec(t))?(D=[D,k.documentMode],(s=+s[1]+4)!=D[1]&&(I.push("IE "+D[1]+" mode"),C&&(C[1]=""),D[1]=s),D="IE"==F?String(D[1].toFixed(1)):D[0]):"number"==typeof k.documentMode&&/^(?:Chrome|Firefox)\b/.test(F)&&(I.push("masking as "+F+" "+D),F="IE",D="11.0",C=["Trident"],U="Windows");else if(A&&(j=(s=A.lang.System).getProperty("os.arch"),U=U||s.getProperty("os.name")+" "+s.getProperty("os.version")),P){try{D=r.require("ringo/engine").version.join("."),F="RingoJS"}catch(e){(s=r.system)&&s.global.system==r.system&&(F="Narwhal",U||(U=s[0].os||null))}F||(F="Rhino")}else"object"==typeof r.process&&!r.process.browser&&(s=r.process)&&("object"==typeof s.versions&&("string"==typeof s.versions.electron?(I.push("Node "+s.versions.node),F="Electron",D=s.versions.electron):"string"==typeof s.versions.nw&&(I.push("Chromium "+D,"Node "+s.versions.node),F="NW.js",D=s.versions.nw)),F||(F="Node.js",j=s.arch,U=s.platform,D=(D=/[\d.]+/.exec(s.version))?D[0]:null));U=U&&y(U)}if(D&&(s=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(D)||/(?:alpha|beta)(?: ?\d)?/i.exec(t+";"+(B&&o.appMinorVersion))||/\bMinefield\b/i.test(t)&&"a")&&(R=/b/i.test(s)?"beta":"alpha",D=D.replace(RegExp(s+"\\+?$"),"")+("beta"==R?T:x)+(/\d+\+?/.exec(s)||"")),"Fennec"==F||"Firefox"==F&&/\b(?:Android|Firefox OS|KaiOS)\b/.test(U))F="Firefox Mobile";else if("Maxthon"==F&&D)D=D.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(W))"Xbox 360"==W&&(U=null),"Xbox 360"==W&&/\bIEMobile\b/.test(t)&&I.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(F)&&(!F||W||/Browser|Mobi/.test(F))||"Windows CE"!=U&&!/Mobi/i.test(t))if("IE"==F&&B)try{null===r.external&&I.unshift("platform preview")}catch(e){I.unshift("embedded")}else(/\bBlackBerry\b/.test(W)||/\bBB10\b/.test(t))&&(s=(RegExp(W.replace(/ +/g," *")+"/([.\\d]+)","i").exec(t)||0)[1]||D)?(U=((s=[s,/BB10/.test(t)])[1]?(W=null,L="BlackBerry"):"Device Software")+" "+s[0],D=null):this!=g&&"Wii"!=W&&(B&&N||/Opera/.test(F)&&/\b(?:MSIE|Firefox)\b/i.test(t)||"Firefox"==F&&/\bOS X (?:\d+\.){2,}/.test(U)||"IE"==F&&(U&&!/^Win/.test(U)&&D>5.5||/\bWindows XP\b/.test(U)&&D>8||8==D&&!/\bTrident\b/.test(t)))&&!u.test(s=e.call(g,t.replace(u,"")+";"))&&s.name&&(s="ing as "+s.name+((s=s.version)?" "+s:""),u.test(F)?(/\bIE\b/.test(s)&&"Mac OS"==U&&(U=null),s="identify"+s):(s="mask"+s,F=M?y(M.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(s)&&(U=null),B||(D=null)),C=["Presto"],I.push(s));else F+=" Mobile";(s=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(t)||0)[1])&&(s=[parseFloat(s.replace(/\.(\d)$/,".0$1")),s],"Safari"==F&&"+"==s[1].slice(-1)?(F="WebKit Nightly",R="alpha",D=s[1].slice(0,-1)):D!=s[1]&&D!=(s[2]=(/\bSafari\/([\d.]+\+?)/i.exec(t)||0)[1])||(D=null),s[1]=(/\b(?:Headless)?Chrome\/([\d.]+)/i.exec(t)||0)[1],537.36==s[0]&&537.36==s[2]&&parseFloat(s[1])>=28&&"WebKit"==C&&(C=["Blink"]),B&&(f||s[1])?(C&&(C[1]="like Chrome"),s=s[1]||((s=s[0])<530?1:s<532?2:s<532.05?3:s<533?4:s<534.03?5:s<534.07?6:s<534.1?7:s<534.13?8:s<534.16?9:s<534.24?10:s<534.3?11:s<535.01?12:s<535.02?"13+":s<535.07?15:s<535.11?16:s<535.19?17:s<536.05?18:s<536.1?19:s<537.01?20:s<537.11?"21+":s<537.13?23:s<537.18?24:s<537.24?25:s<537.36?26:"Blink"!=C?"27":"28")):(C&&(C[1]="like Safari"),s=(s=s[0])<400?1:s<500?2:s<526?3:s<533?4:s<534?"4+":s<535?5:s<537?6:s<538?7:s<601?8:s<602?9:s<604?10:s<606?11:s<608?12:"12"),C&&(C[1]+=" "+(s+="number"==typeof s?".x":/[.+]/.test(s)?"":"+")),"Safari"==F&&(!D||parseInt(D)>45)?D=s:"Chrome"==F&&/\bHeadlessChrome/i.test(t)&&I.unshift("headless")),"Opera"==F&&(s=/\bzbov|zvav$/.exec(U))?(F+=" ",I.unshift("desktop mode"),"zvav"==s?(F+="Mini",D=null):F+="Mobile",U=U.replace(RegExp(" *"+s+"$"),"")):"Safari"==F&&/\bChrome\b/.exec(C&&C[1])?(I.unshift("desktop mode"),F="Chrome Mobile",D=null,/\bOS X\b/.test(U)?(L="Apple",U="iOS 4.3+"):U=null):/\bSRWare Iron\b/.test(F)&&!D&&(D=K("Chrome")),D&&0==D.indexOf(s=/[\d.]+$/.exec(U))&&t.indexOf("/"+s+"-")>-1&&(U=E(U.replace(s,""))),U&&-1!=U.indexOf(F)&&!RegExp(F+" OS").test(U)&&(U=U.replace(RegExp(" *"+m(F)+" *"),"")),C&&!/\b(?:Avant|Nook)\b/.test(F)&&(/Browser|Lunascape|Maxthon/.test(F)||"Safari"!=F&&/^iOS/.test(U)&&/\bSafari\b/.test(C[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|SRWare Iron|Vivaldi|Web)/.test(F)&&C[1])&&(s=C[C.length-1])&&I.push(s),I.length&&(I=["("+I.join("; ")+")"]),L&&W&&W.indexOf(L)<0&&I.push("on "+L),W&&I.push((/^on /.test(I[I.length-1])?"":"on ")+W),U&&(s=/ ([\d.+]+)$/.exec(U),l=s&&"/"==U.charAt(U.length-s[0].length-1),U={architecture:32,family:s&&!l?U.replace(s[0],""):U,version:s?s[1]:null,toString:function(){var e=this.version;return this.family+(e&&!l?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(s=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(j))&&!/\bi686\b/i.test(j)?(U&&(U.architecture=64,U.family=U.family.replace(RegExp(" *"+s),"")),F&&(/\bWOW64\b/i.test(t)||B&&/\w(?:86|32)$/.test(o.cpuClass||o.platform)&&!/\bWin64; x64\b/i.test(t))&&I.unshift("32-bit")):U&&/^OS X/.test(U.family)&&"Chrome"==F&&parseFloat(D)>=39&&(U.architecture=64),t||(t=null);var $={};return $.description=t,$.layout=C&&C[0],$.manufacturer=L,$.name=F,$.prerelease=R,$.product=W,$.ua=t,$.version=F&&D,$.os=U||{architecture:null,family:null,version:null,toString:function(){return"null"}},$.parse=e,$.toString=function(){return this.description||""},$.version&&I.unshift(D),$.name&&I.unshift(F),U&&F&&(U!=String(U).split(" ")[0]||U!=F.split(" ")[0]&&!W)&&I.push(W?"("+U+")":"on "+U),I.length&&($.description=I.join(" ")),$}();i.platform=S,void 0===(n=function(){return S}.call(t,r,t,e))||(e.exports=n)}.call(this)},798:e=>{"use strict";var t=String.prototype.replace,r=/%20/g,n="RFC3986";e.exports={default:n,formatters:{RFC1738:function(e){return t.call(e,r,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:n}},129:(e,t,r)=>{"use strict";var n=r(261),o=r(235),i=r(798);e.exports={formats:i,parse:o,stringify:n}},235:(e,t,r)=>{"use strict";var n=r(769),o=Object.prototype.hasOwnProperty,i=Array.isArray,a={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:n.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},s=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},l=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},c=function(e,t,r,n){if(e){var i=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/g,s=r.depth>0&&/(\[[^[\]]*])/.exec(i),c=s?i.slice(0,s.index):i,u=[];if(c){if(!r.plainObjects&&o.call(Object.prototype,c)&&!r.allowPrototypes)return;u.push(c)}for(var p=0;r.depth>0&&null!==(s=a.exec(i))&&p<r.depth;){if(p+=1,!r.plainObjects&&o.call(Object.prototype,s[1].slice(1,-1))&&!r.allowPrototypes)return;u.push(s[1])}return s&&u.push("["+i.slice(s.index)+"]"),function(e,t,r,n){for(var o=n?t:l(t,r),i=e.length-1;i>=0;--i){var a,s=e[i];if("[]"===s&&r.parseArrays)a=[].concat(o);else{a=r.plainObjects?Object.create(null):{};var c="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,u=parseInt(c,10);r.parseArrays||""!==c?!isNaN(u)&&s!==c&&String(u)===c&&u>=0&&r.parseArrays&&u<=r.arrayLimit?(a=[])[u]=o:"__proto__"!==c&&(a[c]=o):a={0:o}}o=a}return o}(u,t,r,n)}};e.exports=function(e,t){var r=function(e){if(!e)return a;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?a.charset:e.charset;return{allowDots:void 0===e.allowDots?a.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:a.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:a.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:a.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:a.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:a.comma,decoder:"function"==typeof e.decoder?e.decoder:a.decoder,delimiter:"string"==typeof e.delimiter||n.isRegExp(e.delimiter)?e.delimiter:a.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:a.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:a.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:a.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:a.strictNullHandling}}(t);if(""===e||null==e)return r.plainObjects?Object.create(null):{};for(var u="string"==typeof e?function(e,t){var r,c={},u=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,p=t.parameterLimit===1/0?void 0:t.parameterLimit,f=u.split(t.delimiter,p),h=-1,d=t.charset;if(t.charsetSentinel)for(r=0;r<f.length;++r)0===f[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===f[r]?d="utf-8":"utf8=%26%2310003%3B"===f[r]&&(d="iso-8859-1"),h=r,r=f.length);for(r=0;r<f.length;++r)if(r!==h){var y,g,b=f[r],m=b.indexOf("]="),v=-1===m?b.indexOf("="):m+1;-1===v?(y=t.decoder(b,a.decoder,d,"key"),g=t.strictNullHandling?null:""):(y=t.decoder(b.slice(0,v),a.decoder,d,"key"),g=n.maybeMap(l(b.slice(v+1),t),(function(e){return t.decoder(e,a.decoder,d,"value")}))),g&&t.interpretNumericEntities&&"iso-8859-1"===d&&(g=s(g)),b.indexOf("[]=")>-1&&(g=i(g)?[g]:g),o.call(c,y)?c[y]=n.combine(c[y],g):c[y]=g}return c}(e,r):e,p=r.plainObjects?Object.create(null):{},f=Object.keys(u),h=0;h<f.length;++h){var d=f[h],y=c(d,u[d],r,"string"==typeof e);p=n.merge(p,y,r)}return!0===r.allowSparse?p:n.compact(p)}},261:(e,t,r)=>{"use strict";var n=r(478),o=r(769),i=r(798),a=Object.prototype.hasOwnProperty,s={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},l=Array.isArray,c=Array.prototype.push,u=function(e,t){c.apply(e,l(t)?t:[t])},p=Date.prototype.toISOString,f=i.default,h={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:o.encode,encodeValuesOnly:!1,format:f,formatter:i.formatters[f],indices:!1,serializeDate:function(e){return p.call(e)},skipNulls:!1,strictNullHandling:!1},d={},y=function e(t,r,i,a,s,c,p,f,y,g,b,m,v,E,S,w){for(var _,O=t,A=w,P=0,x=!1;void 0!==(A=A.get(d))&&!x;){var T=A.get(t);if(P+=1,void 0!==T){if(T===P)throw new RangeError("Cyclic object value");x=!0}void 0===A.get(d)&&(P=0)}if("function"==typeof f?O=f(r,O):O instanceof Date?O=b(O):"comma"===i&&l(O)&&(O=o.maybeMap(O,(function(e){return e instanceof Date?b(e):e}))),null===O){if(s)return p&&!E?p(r,h.encoder,S,"key",m):r;O=""}if("string"==typeof(_=O)||"number"==typeof _||"boolean"==typeof _||"symbol"==typeof _||"bigint"==typeof _||o.isBuffer(O))return p?[v(E?r:p(r,h.encoder,S,"key",m))+"="+v(p(O,h.encoder,S,"value",m))]:[v(r)+"="+v(String(O))];var k,N=[];if(void 0===O)return N;if("comma"===i&&l(O))E&&p&&(O=o.maybeMap(O,p)),k=[{value:O.length>0?O.join(",")||null:void 0}];else if(l(f))k=f;else{var M=Object.keys(O);k=y?M.sort(y):M}for(var j=a&&l(O)&&1===O.length?r+"[]":r,I=0;I<k.length;++I){var R=k[I],B="object"==typeof R&&void 0!==R.value?R.value:O[R];if(!c||null!==B){var D=l(O)?"function"==typeof i?i(j,R):j:j+(g?"."+R:"["+R+"]");w.set(t,P);var C=n();C.set(d,w),u(N,e(B,D,i,a,s,c,"comma"===i&&E&&l(O)?null:p,f,y,g,b,m,v,E,S,C))}}return N};e.exports=function(e,t){var r,o=e,c=function(e){if(!e)return h;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||h.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=i.default;if(void 0!==e.format){if(!a.call(i.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var n=i.formatters[r],o=h.filter;return("function"==typeof e.filter||l(e.filter))&&(o=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:h.addQueryPrefix,allowDots:void 0===e.allowDots?h.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:h.charsetSentinel,delimiter:void 0===e.delimiter?h.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:h.encode,encoder:"function"==typeof e.encoder?e.encoder:h.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:h.encodeValuesOnly,filter:o,format:r,formatter:n,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:h.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:h.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:h.strictNullHandling}}(t);"function"==typeof c.filter?o=(0,c.filter)("",o):l(c.filter)&&(r=c.filter);var p,f=[];if("object"!=typeof o||null===o)return"";p=t&&t.arrayFormat in s?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var d=s[p];if(t&&"commaRoundTrip"in t&&"boolean"!=typeof t.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var g="comma"===d&&t&&t.commaRoundTrip;r||(r=Object.keys(o)),c.sort&&r.sort(c.sort);for(var b=n(),m=0;m<r.length;++m){var v=r[m];c.skipNulls&&null===o[v]||u(f,y(o[v],v,d,g,c.strictNullHandling,c.skipNulls,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.format,c.formatter,c.encodeValuesOnly,c.charset,b))}var E=f.join(c.delimiter),S=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&("iso-8859-1"===c.charset?S+="utf8=%26%2310003%3B&":S+="utf8=%E2%9C%93&"),E.length>0?S+E:""}},769:(e,t,r)=>{"use strict";var n=r(798),o=Object.prototype.hasOwnProperty,i=Array.isArray,a=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),s=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)void 0!==e[n]&&(r[n]=e[n]);return r};e.exports={arrayToObject:s,assign:function(e,t){return Object.keys(t).reduce((function(e,r){return e[r]=t[r],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var o=t[n],a=o.obj[o.prop],s=Object.keys(a),l=0;l<s.length;++l){var c=s[l],u=a[c];"object"==typeof u&&null!==u&&-1===r.indexOf(u)&&(t.push({obj:a,prop:c}),r.push(u))}return function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(i(r)){for(var n=[],o=0;o<r.length;++o)void 0!==r[o]&&n.push(r[o]);t.obj[t.prop]=n}}}(t),e},decode:function(e,t,r){var n=e.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(e){return n}},encode:function(e,t,r,o,i){if(0===e.length)return e;var s=e;if("symbol"==typeof e?s=Symbol.prototype.toString.call(e):"string"!=typeof e&&(s=String(e)),"iso-8859-1"===r)return escape(s).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var l="",c=0;c<s.length;++c){var u=s.charCodeAt(c);45===u||46===u||95===u||126===u||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||i===n.RFC1738&&(40===u||41===u)?l+=s.charAt(c):u<128?l+=a[u]:u<2048?l+=a[192|u>>6]+a[128|63&u]:u<55296||u>=57344?l+=a[224|u>>12]+a[128|u>>6&63]+a[128|63&u]:(c+=1,u=65536+((1023&u)<<10|1023&s.charCodeAt(c)),l+=a[240|u>>18]+a[128|u>>12&63]+a[128|u>>6&63]+a[128|63&u])}return l},isBuffer:function(e){return!(!e||"object"!=typeof e||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(i(e)){for(var r=[],n=0;n<e.length;n+=1)r.push(t(e[n]));return r}return t(e)},merge:function e(t,r,n){if(!r)return t;if("object"!=typeof r){if(i(t))t.push(r);else{if(!t||"object"!=typeof t)return[t,r];(n&&(n.plainObjects||n.allowPrototypes)||!o.call(Object.prototype,r))&&(t[r]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(r);var a=t;return i(t)&&!i(r)&&(a=s(t,n)),i(t)&&i(r)?(r.forEach((function(r,i){if(o.call(t,i)){var a=t[i];a&&"object"==typeof a&&r&&"object"==typeof r?t[i]=e(a,r,n):t.push(r)}else t[i]=r})),t):Object.keys(r).reduce((function(t,i){var a=r[i];return o.call(t,i)?t[i]=e(t[i],a,n):t[i]=a,t}),a)}}},478:(e,t,r)=>{"use strict";var n=r(210),o=r(924),i=r(631),a=n("%TypeError%"),s=n("%WeakMap%",!0),l=n("%Map%",!0),c=o("WeakMap.prototype.get",!0),u=o("WeakMap.prototype.set",!0),p=o("WeakMap.prototype.has",!0),f=o("Map.prototype.get",!0),h=o("Map.prototype.set",!0),d=o("Map.prototype.has",!0),y=function(e,t){for(var r,n=e;null!==(r=n.next);n=r)if(r.key===t)return n.next=r.next,r.next=e.next,e.next=r,r};e.exports=function(){var e,t,r,n={assert:function(e){if(!n.has(e))throw new a("Side channel does not contain "+i(e))},get:function(n){if(s&&n&&("object"==typeof n||"function"==typeof n)){if(e)return c(e,n)}else if(l){if(t)return f(t,n)}else if(r)return function(e,t){var r=y(e,t);return r&&r.value}(r,n)},has:function(n){if(s&&n&&("object"==typeof n||"function"==typeof n)){if(e)return p(e,n)}else if(l){if(t)return d(t,n)}else if(r)return function(e,t){return!!y(e,t)}(r,n);return!1},set:function(n,o){s&&n&&("object"==typeof n||"function"==typeof n)?(e||(e=new s),u(e,n,o)):l?(t||(t=new l),h(t,n,o)):(r||(r={key:{},next:null}),function(e,t,r){var n=y(e,t);n?n.value=r:e.next={key:t,next:e.next,value:r}}(r,n,o))}};return n}},699:(e,t,r)=>{"use strict";r.d(t,{default:()=>ne});var n=r(129),o=r.n(n);const i="https://rest.boxcast.com";class a{static now(){return new Date}}var s=null;class l{static now(){if(null===s){if(s=!(!window.performance||!window.performance.now))try{window.performance.now()}catch(e){console.warn("Error calling window.performance.now():",e),s=!1}s||console.warn("Browser does not support performance API; MonotonicClock falling back to Clock")}return s?window.performance.now():a.now().getTime()}}var c={lastAuthToken:null};function u(){var e=function(e){for(var t="",r="0123456789ABCDEF",n=0;n<5;n++)t+=r.charAt(Math.floor(Math.random()*r.length));return t};return e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()}function p(e,t){const r=(e=e||{}).code||e.data&&e.data.code;let n=e.message;n=!n&&e.data?e.data.details||JSON.stringify(e.data):e.toString(),"[object MediaError]"===n&&(n="MediaError occurred");let o={message:n,code:r,data:e.data};return t&&(o.source=t),o}function f(e){var t,r,n,o,i,a,s;return o=this,i=void 0,s=function*(){const o=(null===(t=e.headers)||void 0===t?void 0:t.get("content-type"))&&0==(null===(r=e.headers)||void 0===r?void 0:r.get("content-type").indexOf("application/json"));let i={pagination:JSON.parse((null===(n=e.headers)||void 0===n?void 0:n.get("x-pagination"))||"{}")};return i.data=o?yield e.json():e,i},new((a=void 0)||(a=Promise))((function(e,t){function r(e){try{l(s.next(e))}catch(e){t(e)}}function n(e){try{l(s.throw(e))}catch(e){t(e)}}function l(t){var o;t.done?e(t.value):(o=t.value,o instanceof a?o:new a((function(e){e(o)}))).then(r,n)}l((s=s.apply(o,i||[])).next())}))}function h(){return{Authorization:`Bearer ${c.lastAuthToken}`}}var d,y=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}l((n=n.apply(e,t||[])).next())}))},g=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};class b{constructor(e){d.set(this,void 0),function(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");t.set(e,r)}(this,d,e)}list(e,t={}){return y(this,void 0,void 0,(function*(){if(!e)return Promise.reject("channelId is required");const r=yield g(this,d).call(this,`${i}/channels/${e}/broadcasts?${o().stringify(t)}`);return yield f(r)}))}get(e){return y(this,void 0,void 0,(function*(){if(!e)return Promise.reject("broadcastId is required");const t=yield g(this,d).call(this,`${i}/broadcasts/${e}`);return yield t.json()}))}}d=new WeakMap;var m;class v{constructor(e){m.set(this,void 0),function(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");t.set(e,r)}(this,m,e)}list(e,t={}){return r=this,n=void 0,s=function*(){if(!e)return Promise.reject("accountId is required");const r=yield function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}(this,m).call(this,`${i}/accounts/${e}/channels?${o().stringify(t)}`);return yield f(r)},new((a=void 0)||(a=Promise))((function(e,t){function o(e){try{l(s.next(e))}catch(e){t(e)}}function i(e){try{l(s.throw(e))}catch(e){t(e)}}function l(t){var r;t.done?e(t.value):(r=t.value,r instanceof a?r:new a((function(e){e(r)}))).then(o,i)}l((s=s.apply(r,n||[])).next())}));var r,n,a,s}}m=new WeakMap;var E;class S{constructor(e){E.set(this,void 0),function(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");t.set(e,r)}(this,E,e)}get(e,t={}){return r=this,n=void 0,a=function*(){if(!e)return Promise.reject("broadcastId is required");try{const r=yield function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}(this,E).call(this,`${i}/broadcasts/${e}/view`,{params:t}),n=yield r.json();return n&&n.playlist&&n.status.indexOf("live")<0&&n.status.indexOf("recorded")<0&&(console.log("Playlist not yet ready; status is [",n.status,"] for ",n.playlist),n.playlist=""),n}catch(e){return Promise.reject(e)}},new((o=void 0)||(o=Promise))((function(e,t){function i(e){try{l(a.next(e))}catch(e){t(e)}}function s(e){try{l(a.throw(e))}catch(e){t(e)}}function l(t){var r;t.done?e(t.value):(r=t.value,r instanceof o?r:new o((function(e){e(r)}))).then(i,s)}l((a=a.apply(r,n||[])).next())}));var r,n,o,a}}E=new WeakMap;var w,_=r(501),O=r.n(_),A=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}l((n=n.apply(e,t||[])).next())}))},P=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};class x{constructor(e){w.set(this,void 0),function(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");t.set(e,r)}(this,w,e)}get resourceBase(){throw new Error("NotImplemented")}list(e={}){return A(this,void 0,void 0,(function*(){try{return f(yield P(this,w).call(this,`${i}/${this.resourceBase}`,{method:"GET",headers:Object.assign(Object.assign({},h()),{"Content-Type":"application/json"})}))}catch(e){throw new Error(`Error in list: ${e.message}`)}}))}get(e){return A(this,void 0,void 0,(function*(){if(!e)throw new Error("id is required");try{const t=yield P(this,w).call(this,`${i}/${this.resourceBase}/${e}`,{method:"GET",headers:Object.assign(Object.assign({},h()),{"Content-Type":"application/json"})});return"application/json; charset=utf-8"==t.headers.get("content-type")?t.json():t}catch(e){throw new Error(`Error in get: ${e.message}`)}}))}create(e={}){return A(this,void 0,void 0,(function*(){try{const t=yield P(this,w).call(this,`${i}/${this.resourceBase}`,{method:"POST",headers:Object.assign(Object.assign({},h()),{"Content-Type":"application/json"}),body:JSON.stringify(e)});return"application/json; charset=utf-8"==t.headers.get("content-type")?t.json():t}catch(e){throw new Error(`Error in create: ${e.message}`)}}))}update(e,t={}){return A(this,void 0,void 0,(function*(){if(!e)throw new Error("id is required");try{const r=yield P(this,w).call(this,`${i}/${this.resourceBase}/${e}`,{method:"PUT",headers:Object.assign(Object.assign({},h()),{"Content-Type":"application/json"}),body:JSON.stringify(t)});return"application/json; charset=utf-8"==r.headers.get("content-type")?r.json():r}catch(e){throw new Error(`Error in update: ${e.message}`)}}))}destroy(e){return A(this,void 0,void 0,(function*(){if(!e)throw new Error("id is required");try{const t=yield P(this,w).call(this,`${i}/${this.resourceBase}/${e}`,{method:"DELETE",headers:Object.assign(Object.assign({},h()),{"Content-Type":"application/json"})});return"application/json; charset=utf-8"==t.headers.get("content-type")?t.json():t}catch(e){throw new Error(`Error in destroy: ${e.message}`)}}))}}w=new WeakMap;var T;class k extends x{constructor(e){super(e),T.set(this,void 0),function(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");t.set(e,r)}(this,T,e)}get resourceBase(){return"broadcasts"}}T=new WeakMap;var N;class M extends x{constructor(e){super(e),N.set(this,void 0),function(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");t.set(e,r)}(this,N,e)}get resourceBase(){return"account/channels"}}N=new WeakMap;var j,I=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}l((n=n.apply(e,t||[])).next())}))},R=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};class B{constructor(e){j.set(this,void 0),function(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");t.set(e,r)}(this,j,e)}logout(){c.lastAuthToken=null}authenticate(e,t){return I(this,void 0,void 0,(function*(){try{const r=new URLSearchParams({grant_type:"client_credentials",scope:"owner"}),n=yield R(this,j).call(this,"https://auth.boxcast.com/oauth2/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:`Basic ${O().encode(`${e}:${t}`)}`},body:r}),o=yield n.json();return c.lastAuthToken=o.access_token,o}catch(e){throw console.error("Error authenticating:",e),e}}))}account(){return I(this,void 0,void 0,(function*(){try{if(!c.lastAuthToken)throw new Error("Authentication is required");const e=yield R(this,j).call(this,`${i}/account`,{headers:h()});return yield e.json()}catch(e){throw console.error("Error fetching account:",e),e}}))}get broadcasts(){return new k(R(this,j))}get channels(){return new M(R(this,j))}}j=new WeakMap;var D,C=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};class F{constructor(e){D.set(this,void 0),function(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");t.set(e,r)}(this,D,e),this.broadcasts=new b(C(this,D)),this.channels=new v(C(this,D)),this.auth=new B(C(this,D)),this.views=new S(C(this,D))}}D=new WeakMap;var W=r(795),L=r.n(W);const U="play".split(" "),H="pause buffer idle stop complete error".split(" "),K=function(){try{try{return localStorage.setItem("__sentinel__","foo"),"foo"===localStorage.getItem("__sentinel__")?(localStorage.removeItem("__sentinel__"),localStorage):sessionStorage}catch(e){return sessionStorage}}catch(e){return{getItem:function(e){return this[e]},setItem:function(e,t){this[e]=t}}}}();class ${constructor(e){this.browserState=e,this._queue=[],this.listeners={}}attach(e){const{video:t,broadcast:r,channel_id:n}=e;if(!t)throw Error("video is required");if(!r)throw Error("broadcast is required");return Object.keys(this.listeners).length>0&&this.detach(),this.player=t,this.broadcastInfo={channel_id:n||r.channel_id,account_id:r.account_id,is_live:"current"===r.timeframe,broadcast_id:r.id},this.lastReportAt=null,this.lastBufferStart=null,this.isPlaying=!1,this.isBuffering=!1,this.durationPlaying=0,this.activeBufferingDuration=0,this.totalDurationBuffering=0,this.currentLevelHeight=0,this.headers={},this.isSetup=!1,this.listeners=this._wireEvents(this.player),this}detach(){return Object.keys(this.listeners).forEach((e=>{this.player.removeEventListener(e,this.listeners[e],!0)})),this.listeners={},clearTimeout(this._waitForBufferingCheck),this}_wireEvents(e){const t={ended:()=>{this._handleNormalOperation(),this._report("complete"),this._handleBufferingEnd()},error:()=>{this._handlePlaybackError(this.player.error)},pause:()=>{this._handleNormalOperation(),this._report("pause"),this._handleBufferingEnd()},play:()=>{this._handleNormalOperation(),this._report("play"),this._handleBufferingEnd()},playing:()=>{this._handleNormalOperation(),this.isPlaying=!0,this._handleBufferingEnd()},resize:()=>{this._handleNormalOperation(),this._report("quality"),this._handleBufferingEnd()},seeking:()=>{this._handleNormalOperation(),this._report("seek",{offset:this.player.currentTime})},seeked:()=>{this._handleNormalOperation(),this._handleBufferingEnd()},timeupdate:()=>{this._reportTime()},stalled:()=>{this._handleBufferingStart()},waiting:()=>{this._handleBufferingStart()}};return Object.keys(t).forEach((r=>{e.addEventListener(r,t[r],!0)})),t}_isActuallyPlaying(){return!!(this.player.currentTime>0&&!this.player.paused&&!this.player.ended&&this.player.readyState>2)}_getCurrentTime(){return this.player.currentTime}_getCurrentLevelHeight(){return this.player.videoHeight}_handleBufferingStart(){this.isBuffering=!0,this.lastBufferStart=this.lastBufferStart||l.now(),this._waitForBufferingCheck||(this._waitForBufferingCheck=setTimeout((()=>{this._waitForBufferingCheck=null,this.isBuffering&&(this._isActuallyPlaying()?this._handleBufferingEnd():this._report("buffer"))}),500))}_handleNormalOperation(){this.stoppedHACK=!1}_handleBufferingEnd(){this.isBuffering=!1,this.lastBufferStart=null,clearTimeout(this._waitForBufferingCheck),this._waitForBufferingCheck=null,this.totalDurationBuffering+=this.activeBufferingDuration,this.activeBufferingDuration=0}_handlePlaybackError(e){this.stoppedHACK?console.warn("An error occurred, but playback is stopped so this should not be a problem",e):null===e?console.warn("An error event was fired, but the error was null"):this._report("error",Object.assign({},this.browserState,{error_object:p(e)}))}_setup(){var e=K.getItem("boxcast-viewer-id",null);e||(e=function(e){return!e||e.length<3?e||"":'"'===e[0]&&'"'===e[e.length-1]?e.substring(1,e.length-1):e}(u().replace(/-/g,"")),K.setItem("boxcast-viewer-id",e)),this.headers=Object.assign({view_id:u().replace(/-/g,""),viewer_id:e},this.broadcastInfo)}_reportTime(){this.isSetup&&this.isPlaying&&(l.now()-this.lastReportAt<=6e4||this._report("time"))}_report(e,t){this.isSetup||(this._setup(),this.isSetup=!0,this._report("setup",this.browserState));var r=l.now();this.isPlaying&&(this.durationPlaying+=r-(this.lastReportAt||r)),this.isBuffering&&(this.activeBufferingDuration=r-(this.lastBufferStart||r)),this.isPlaying=U.indexOf(e)>=0||this.isPlaying&&!(H.indexOf(e)>=0),this.lastReportAt=r;let n=a.now();t=t||{},(t=Object.assign({},this.headers,t)).timestamp=n.toISOString(),t.hour_of_day=n.getHours(),t.day_of_week=n.getDay(),t.action=e,t.position=this._getCurrentTime(),t.duration=Math.round(this.durationPlaying/1e3),t.duration_buffering=Math.round((this.totalDurationBuffering+this.activeBufferingDuration)/1e3),t.videoHeight=this._getCurrentLevelHeight(),this._getDvrIsUse&&(t.dvr=this._getDvrIsUse()),this._queue.push(t),this._dequeue()}_dequeue(){return e=this,t=void 0,n=function*(){var e=[];for(const t of this._queue)try{const e=yield fetch("https://metrics.boxcast.com/player/interaction",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw new Error(`Failed to post metrics with status ${e.status}`)}catch(r){t.__attempts=(t.__attempts||0)+1,t.__attempts<=5?(console.warn("Unable to post metrics; will retry",p(r),t),e.push(t)):console.warn("Unable to post metrics; will not retry",p(r),t)}this._queue=e},new((r=void 0)||(r=Promise))((function(o,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}l((n=n.apply(e,t||[])).next())}));var e,t,r,n}}class G extends ${attach(e){const{player:t,broadcast:r,channel_id:n}=e;if(!t)throw Error("player is required");if(!r)throw Error("broadcast is required");return this.player=t,this.broadcastInfo={channel_id:n||r.channel_id,account_id:r.account_id,is_live:"current"===r.timeframe,broadcast_id:r.id},this.lastReportAt=null,this.lastBufferStart=null,this.isPlaying=!1,this.isBuffering=!1,this.durationPlaying=0,this.activeBufferingDuration=0,this.totalDurationBuffering=0,this.currentLevelHeight=0,this.headers={},this.isSetup=!1,this.listeners=this._wireEvents(this.player),this}detach(){return Object.keys(this.listeners).forEach((e=>{this.player.off(e,this.listeners[e])})),this.listeners={},clearTimeout(this._waitForBufferingCheck),this}_wireEvents(e){const t={ended:()=>{this._handleNormalOperation(),this._report("complete"),this._handleBufferingEnd()},error:e=>{this._handlePlaybackError(e)},pause:()=>{this._handleNormalOperation(),this._report("pause"),this._handleBufferingEnd()},play:()=>{this._handleNormalOperation(),this._report("play"),this._handleBufferingEnd()},playing:()=>{this._handleNormalOperation(),this.isPlaying=!0,this._handleBufferingEnd()},resize:()=>{this._handleNormalOperation(),this._report("quality"),this._handleBufferingEnd()},seeking:()=>{this._handleNormalOperation(),this._report("seek",{offset:this._getCurrentTime()})},seeked:()=>{this._handleNormalOperation(),this._handleBufferingEnd()},timeupdate:()=>{this._reportTime()},stalled:()=>{this._handleBufferingStart()},waiting:()=>{this._handleBufferingStart()}};return Object.keys(t).forEach((r=>{e.on(r,t[r])})),t}_getCurrentTime(){return this.player.currentTime()}_getCurrentLevelHeight(){return this.player.videoHeight()}}class q extends ${get framework(){return("undefined"!=typeof window?window.cast:r.g.cast).framework}attach(e){const{playerManager:t,broadcastInfo:r}=e;if(!t)throw Error("playerManager is required");if(!r)throw Error("broadcastInfo is required");return this.playerManager=t,this.broadcastInfo=r,this.lastReportAt=null,this.lastBufferStart=null,this.isPlaying=!1,this.isBuffering=!1,this.durationPlaying=0,this.activeBufferingDuration=0,this.totalDurationBuffering=0,this.currentLevelHeight=0,this.headers={},this.isSetup=!1,this._wireEvents(),this}handleSegmentRequest(e){if(!e.url)return;const t=e.url.match(/\/(\d+)p\/\d+\.ts/);t&&t[1]&&(this.currentLevelHeight=parseInt(t[1],10))}_wireEvents(){this.playerManager.addEventListener(this.framework.events.EventType.ENDED,(e=>{this._handleNormalOperation(),this._report("complete"),this._handleBufferingEnd()})),this.playerManager.addEventListener(this.framework.events.EventType.MEDIA_FINISHED,(e=>{this._handleNormalOperation(),this._report("complete"),this._handleBufferingEnd()})),this.playerManager.addEventListener(this.framework.events.EventType.ERROR,(e=>{this._handleChromecastError(e)})),this.playerManager.addEventListener(this.framework.events.EventType.PAUSE,(e=>{this._handleNormalOperation(),this._report("pause"),this._handleBufferingEnd()})),this.playerManager.addEventListener(this.framework.events.EventType.PLAYING,(e=>{this._handleNormalOperation(),this._report("play"),this.isPlaying=!0,this._handleBufferingEnd()})),this.playerManager.addEventListener(this.framework.events.EventType.REQUEST_STOP,(e=>{this._handleNormalOperation(),this._report("stop"),this._handleBufferingEnd()})),this.playerManager.addEventListener(this.framework.events.EventType.SEEKED,(e=>{this._handleNormalOperation(),this._handleBufferingEnd()})),this.playerManager.addEventListener(this.framework.events.EventType.SEEKING,(e=>{e&&e.currentMediaTime&&(this._handleNormalOperation(),this._report("seek",{offset:e.currentMediaTime}))})),this.playerManager.addEventListener(this.framework.events.EventType.TIME_UPDATE,(e=>{e.currentMediaTime&&this.lastTimeUpdateTime&&e.currentMediaTime!==this.lastTimeUpdateTime&&(this._handleNormalOperation(),this._handleBufferingEnd()),this.lastTimeUpdateTime=e.currentMediaTime,this._reportTime()})),this.playerManager.addEventListener(this.framework.events.EventType.BUFFERING,(e=>{e.isBuffering?this._handleBufferingStart():(this._handleNormalOperation(),this._handleBufferingEnd())}))}_handleChromecastError(e){if(this.stoppedHACK)console.warn("An error occurred, but playback is stopped so this should not be a problem",e);else if(null===e)console.warn("An error event was fired, but the error was null");else{let t={};if(e.detailedErrorCode)switch(t.code=e.detailedErrorCode,e.detailedErrorCode){case this.framework.events.DetailedErrorCode.MEDIA_UNKNOWN:t.message="MEDIA_UNKNOWN";break;case this.framework.events.DetailedErrorCode.MEDIA_ABORTED:t.message="MEDIA_ABORTED";break;case this.framework.events.DetailedErrorCode.MEDIA_DECODE:t.message="MEDIA_DECODE";break;case this.framework.events.DetailedErrorCode.MEDIA_NETWORK:t.message="MEDIA_NETWORK";break;case this.framework.events.DetailedErrorCode.MEDIA_SRC_NOT_SUPPORTED:t.message="MEDIA_SRC_NOT_SUPPORTED";break;case this.framework.events.DetailedErrorCode.SOURCE_BUFFER_FAILURE:t.message="SOURCE_BUFFER_FAILURE";break;case this.framework.events.DetailedErrorCode.MEDIAKEYS_UNKNOWN:t.message="MEDIAKEYS_UNKNOWN";break;case this.framework.events.DetailedErrorCode.MEDIAKEYS_NETWORK:t.message="MEDIAKEYS_NETWORK";break;case this.framework.events.DetailedErrorCode.MEDIAKEYS_UNSUPPORTED:t.message="MEDIAKEYS_UNSUPPORTED";break;case this.framework.events.DetailedErrorCode.MEDIAKEYS_WEBCRYPTO:t.message="MEDIAKEYS_WEBCRYPTO";break;case this.framework.events.DetailedErrorCode.NETWORK_UNKNOWN:t.message="NETWORK_UNKNOWN";break;case this.framework.events.DetailedErrorCode.SEGMENT_NETWORK:t.message="SEGMENT_NETWORK";break;case this.framework.events.DetailedErrorCode.HLS_NETWORK_MASTER_PLAYLIST:t.message="HLS_NETWORK_MASTER_PLAYLIST";break;case this.framework.events.DetailedErrorCode.HLS_NETWORK_PLAYLIST:t.message="HLS_NETWORK_PLAYLIST";break;case this.framework.events.DetailedErrorCode.HLS_NETWORK_NO_KEY_RESPONSE:t.message="HLS_NETWORK_NO_KEY_RESPONSE";break;case this.framework.events.DetailedErrorCode.HLS_NETWORK_KEY_LOAD:t.message="HLS_NETWORK_KEY_LOAD";break;case this.framework.events.DetailedErrorCode.HLS_NETWORK_INVALID_SEGMENT:t.message="HLS_NETWORK_INVALID_SEGMENT";break;case this.framework.events.DetailedErrorCode.HLS_SEGMENT_PARSING:t.message="HLS_SEGMENT_PARSING";break;case this.framework.events.DetailedErrorCode.DASH_NETWORK:t.message="DASH_NETWORK";break;case this.framework.events.DetailedErrorCode.DASH_NO_INIT:t.message="DASH_NO_INIT";break;case this.framework.events.DetailedErrorCode.SMOOTH_NETWORK:t.message="SMOOTH_NETWORK";break;case this.framework.events.DetailedErrorCode.SMOOTH_NO_MEDIA_DATA:t.message="SMOOTH_NO_MEDIA_DATA";break;case this.framework.events.DetailedErrorCode.MANIFEST_UNKNOWN:t.message="MANIFEST_UNKNOWN";break;case this.framework.events.DetailedErrorCode.HLS_MANIFEST_MASTER:t.message="HLS_MANIFEST_MASTER";break;case this.framework.events.DetailedErrorCode.HLS_MANIFEST_PLAYLIST:t.message="HLS_MANIFEST_PLAYLIST";break;case this.framework.events.DetailedErrorCode.DASH_MANIFEST_UNKNOWN:t.message="DASH_MANIFEST_UNKNOWN";break;case this.framework.events.DetailedErrorCode.DASH_MANIFEST_NO_PERIODS:t.message="DASH_MANIFEST_NO_PERIODS";break;case this.framework.events.DetailedErrorCode.DASH_MANIFEST_NO_MIMETYPE:t.message="DASH_MANIFEST_NO_MIMETYPE";break;case this.framework.events.DetailedErrorCode.DASH_INVALID_SEGMENT_INFO:t.message="DASH_INVALID_SEGMENT_INFO";break;case this.framework.events.DetailedErrorCode.SMOOTH_MANIFEST:t.message="SMOOTH_MANIFEST";break;case this.framework.events.DetailedErrorCode.SEGMENT_UNKNOWN:t.message="SEGMENT_UNKNOWN";break;case this.framework.events.DetailedErrorCode.TEXT_UNKNOWN:t.message="TEXT_UNKNOWN";break;case this.framework.events.DetailedErrorCode.APP:t.message="APP";break;case this.framework.events.DetailedErrorCode.BREAK_CLIP_LOADING_ERROR:t.message="BREAK_CLIP_LOADING_ERROR";break;case this.framework.events.DetailedErrorCode.BREAK_SEEK_INTERCEPTOR_ERROR:t.message="BREAK_SEEK_INTERCEPTOR_ERROR";break;case this.framework.events.DetailedErrorCode.IMAGE_ERROR:t.message="IMAGE_ERROR";break;case this.framework.events.DetailedErrorCode.LOAD_INTERRUPTED:t.message="LOAD_INTERRUPTED";break;case this.framework.events.DetailedErrorCode.LOAD_FAILED:t.message="LOAD_FAILED";break;case this.framework.events.DetailedErrorCode.MEDIA_ERROR_MESSAGE:t.message="MEDIA_ERROR_MESSAGE";break;case this.framework.events.DetailedErrorCode.GENERIC:t.message="GENERIC"}if(e.error)try{t.data=JSON.stringify(e.error)}catch(e){}this._report("error",Object.assign({},this.browserState,{error_object:t}))}}_getCurrentTime(){return this.playerManager.getCurrentTimeSec()}_getCurrentLevelHeight(){return this.currentLevelHeight}_getDvrIsUse(){const e=this.playerManager.getLiveSeekableRange();return!(!e||!e.end||e.end-this.playerManager.getCurrentTimeSec()<30)}}var V=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}l((n=n.apply(e,t||[])).next())}))};const z="play".split(" "),Y="pause buffer complete error".split(" ");class X{constructor(e){this.browserState=e,this._queue=[]}attach(e){return V(this,void 0,void 0,(function*(){const{broadcast:t,channel_id:r,AsyncStorage:n,debug:o}=e;if(!t)throw Error("broadcast is required");if(!n)throw Error("AsyncStorage is required");return this.storage=n,this.debug=o,this.broadcastInfo={channel_id:r||t.channel_id,account_id:t.account_id,is_live:"current"===t.timeframe,broadcast_id:t.id},this.lastAction=null,this.lastReportAt=null,this.lastBufferStart=null,this.isPlaying=!1,this.isBuffering=!1,this.durationPlaying=0,this.activeBufferingDuration=0,this.totalDurationBuffering=0,this.currentLevelHeight=0,this.headers={},this.isSetup=!1,this._bufferTimeoutHandle=null,yield this._initViewerID(),this}))}generateVideoEventProps(){return{onBuffer:this._onBuffer.bind(this),onError:this._onError.bind(this),onLoad:this._onLoad.bind(this),onProgress:this._onProgress.bind(this),onEnd:this._onEnd.bind(this),onPlaybackRateChange:this._onPlaybackRateChange.bind(this)}}_onBuffer(e){e.isBuffering?this._handleBufferingStart():this._handleBufferingEnd()}_onError(e){console.warn("onError:",e),this._handlePlaybackError(e)}_onLoad(e){this.debug&&console.log("onLoad:",e)}_onProgress(e){this._lastProgressTimestamp=e.currentTime,this._reportTime()}_onEnd(e){this._report("complete"),this._handleBufferingEnd()}_onPlaybackRateChange(e){0===e.playbackRate?(this._report("pause"),this._handleBufferingEnd()):1===e.playbackRate&&(this._report("play"),this._handleBufferingEnd())}_getCurrentTime(){return this._lastProgressTimestamp}_handleBufferingStart(){this.isBuffering=!0,this.lastBufferStart=this.lastBufferStart||l.now(),null==this._bufferTimeoutHandle&&(this.debug&&console.log("[analytics] Detected start of buffering"),this._bufferTimeoutHandle=setTimeout((()=>{this.isBuffering&&this._report("buffer")}),1e3))}_handleBufferingEnd(){this.isBuffering=!1,this.lastBufferStart=null,this.totalDurationBuffering+=this.activeBufferingDuration,this.activeBufferingDuration=0,clearTimeout(this._bufferTimeoutHandle),this._bufferTimeoutHandle=null,this.debug&&console.log("[analytics] Detected end of buffering")}_handlePlaybackError(e){null===e?console.warn("An error event was fired, but the error was null"):this._report("error",Object.assign({},this.browserState,{error_object:p(e)}))}_initViewerID(){return V(this,void 0,void 0,(function*(){var e=yield this.storage.getItem("boxcast-viewer-id");e||(e=u().replace(/-/g,""),this.storage.setItem("boxcast-viewer-id",e)),this.headers=Object.assign({view_id:u().replace(/-/g,""),viewer_id:e},this.broadcastInfo)}))}_reportTime(){this.isSetup&&this.isPlaying&&(l.now()-this.lastReportAt<=6e4||this._report("time"))}_report(e,t){this.isSetup||(this.isSetup=!0,this._report("setup",this.browserState));var r=l.now();if(this.isPlaying&&(this.durationPlaying+=r-(this.lastReportAt||r)),this.isBuffering&&(this.activeBufferingDuration=r-(this.lastBufferStart||r)),this.isPlaying=z.indexOf(e)>=0||this.isPlaying&&!(Y.indexOf(e)>=0),e===this.lastAction&&r-(this.lastReportAt||r)<1e3)return void(this.debug&&console.log(`[analytics] Ignoring ${e} due to debounce on last report`));this.lastReportAt=r,this.lastAction=e;let n=a.now();t=t||{},(t=Object.assign({},this.headers,t)).timestamp=n.toISOString(),t.hour_of_day=n.getHours(),t.day_of_week=n.getDay(),t.action=e,t.position=this._getCurrentTime(),t.duration=Math.round(this.durationPlaying/1e3),t.duration_buffering=Math.round((this.totalDurationBuffering+this.activeBufferingDuration)/1e3),this._queue.push(t),this._dequeue()}_dequeue(){var e=[];this._queue.forEach((t=>V(this,void 0,void 0,(function*(){try{const e=yield fetch("https://metrics.boxcast.com/player/interaction",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error(`Response status ${e.status}`);this.debug&&console.log("[analytics] Posted: ",t)}catch(r){t.__attempts=(t.__attempts||0)+1,t.__attempts<=5?(console.warn("Unable to post metrics; will retry",p(r),t),e.push(t)):console.warn("Unable to post metrics; will not retry",p(r),t)}})))),this._queue=e}}var J,Q={};function Z(){try{return window.location.hostname}catch(e){return""}}class ee{constructor(e){J.set(this,void 0),this.configure=e=>(Q=e,this),this.getState=()=>{var e={host:Z(),os:(L().os||"").toString(),browser_name:L().name,browser_version:L().version,player_version:"boxcast-sdk-js v2.0.1"};return Object.assign({},e,Q)},this.mode=e=>{switch(e){case"html5":return new $(this.getState());case"video.js":return new G(this.getState());case"chromecast":return new q(this.getState());case"react-native-video":return new X(this.getState())}throw Error(`Mode ${e} not supported`)},function(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");t.set(e,r)}(this,J,e)}}J=new WeakMap;var te,re=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};te=new WeakMap;class ne extends class{constructor(e){te.set(this,void 0),function(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");t.set(e,r)}(this,te,e),this.api=new F(re(this,te)),this.analytics=new ee(re(this,te))}}{constructor(){super(window.fetch.bind(window))}}},550:()=>{}},t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}return r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r(699)})().default}));